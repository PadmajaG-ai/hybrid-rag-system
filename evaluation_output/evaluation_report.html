<!DOCTYPE html>
<html>
<head>
    <title>RAG System Evaluation Report</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .score-box {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .score-value {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }
        .score-label {
            font-size: 1.2em;
            opacity: 0.9;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            margin: 20px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        tr:hover {
            background: #f5f5f5;
        }
        .justification {
            background: #f9f9f9;
            padding: 20px;
            border-left: 4px solid #667eea;
            margin: 20px 0;
            border-radius: 5px;
        }
        .section {
            margin: 40px 0;
        }
        h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .interpretation {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #4caf50;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìä RAG System Evaluation Report</h1>
        <p>Comprehensive Performance Analysis</p>
        <p>Generated: 2026-02-09 12:53:22</p>
    </div>
    
    
    <div class="section">
        <h2>üìä Overall Performance Summary</h2>
        <div class="metric-grid">
            <div class="score-box">
                <div class="score-label">MRR Score</div>
                <div class="score-value">0.359</div>
            </div>
            <div class="score-box">
                <div class="score-label">F1 Score</div>
                <div class="score-value">0.088</div>
            </div>
            <div class="score-box">
                <div class="score-label">Faithfulness</div>
                <div class="score-value">1.000</div>
            </div>
            
            <div class="score-box">
                <div class="score-label">LLM-as-Judge</div>
                <div class="score-value">3.83/5</div>
            </div>
            
        </div>
    </div>
        
    
    <div class="section">
        <h2>üìè Detailed Metric Justifications</h2>
        
        <div class="metric-card">
            <h3>1Ô∏è‚É£  Mean Reciprocal Rank (MRR)</h3>
            <p><strong>Hybrid MRR:</strong> 0.3585</p>
            <div class="justification">
                Measures how quickly the system identifies relevant documents in retrieved results.
                Higher MRR indicates better ranking of relevant sources.
            </div>
        </div>
        
        <div class="metric-card">
            <h3>2Ô∏è‚É£  Answer Quality Metrics</h3>
            <p><strong>F1 Score:</strong> 0.0875</p>
            <p><strong>ROUGE-L:</strong> 0.0995</p>
            <p><strong>Semantic Similarity:</strong> 0.2231</p>
            <div class="justification">
                Measures the quality and relevance of generated answers:
                <br>‚Ä¢ F1 Score: Token overlap between generated and reference answers
                <br>‚Ä¢ ROUGE-L: Longest common subsequence matching
                <br>‚Ä¢ Semantic Similarity: Embedding-based semantic alignment
            </div>
        </div>
        
        <div class="metric-card">
            <h3>3Ô∏è‚É£  Faithfulness (Answer Grounding)</h3>
            <p><strong>Grounding Score:</strong> 1.0000</p>
            <p><strong>Hallucination Rate:</strong> 0.0%</p>
            <p><strong>Faithful Rate:</strong> 32.0%</p>
            <div class="justification">
                Measures whether generated answers are grounded in retrieved context:
                <br>‚Ä¢ Hallucination Rate: Answers with content not supported by retrieved documents
                <br>‚Ä¢ Faithful Rate: Answers well-grounded in retrieved context
                <br>‚Ä¢ Grounding Score: Semantic overlap between answer and context
            </div>
        </div>
        
        <div class="metric-card">
            <h3>4Ô∏è‚É£  LLM-as-Judge - Innovative Evaluation</h3>
            <p><strong>Overall Score:</strong> 3.83/5.0</p>
            <p><strong>Factual Accuracy:</strong> 2.00/5.0</p>
            <p><strong>Completeness:</strong> 4.76/5.0</p>
            <p><strong>Relevance:</strong> 5.00/5.0</p>
            <p><strong>Coherence:</strong> 4.00/5.0</p>
            <div class="interpretation">
                <strong>Interpretation:</strong> Good - Solid answers with room for minor improvements
            </div>
            <div class="justification">
                LLM-as-Judge Methodology:<br><br>Uses Flan-T5-base as an automated judge to evaluate answer quality across 4 dimensions:<br><br>1. Factual Accuracy (30% weight): Correctness compared to reference answer<br>2. Completeness (30% weight): Coverage of key points from reference<br>3. Relevance (20% weight): How well answer addresses the question<br>4. Coherence (20% weight): Structure, clarity, and readability<br><br>Each dimension rated 1-5 with explanation:<br>- 1: Poor<br>- 2: Below Average<br>- 3: Average<br>- 4: Good<br>- 5: Excellent<br><br>Overall score is weighted average of 4 dimensions.<br><br>Advantages:<br>- Consistent evaluation across all answers<br>- Captures nuanced quality aspects beyond metrics<br>- Provides explanations for ratings<br>- Scales to large datasets
            </div>
        </div>
            </div>
    
    <div class="section">
        <h2>üìã Detailed Results Table</h2>
        <div class="metric-card">
            <p>First 10 questions shown. See CSV for complete results.</p>
            <table>
                <tr>
                    <th>ID</th>
                    <th>Question</th>
                    <th>MRR</th>
                    <th>F1</th>
                    <th>ROUGE-L</th>
                    <th>Semantic</th>
                    <th>Grounding</th>
                </tr>
        
                <tr>
                    <td>qa_001</td>
                    <td>who founded and became governors of men?...</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.154</td>
                    <td>0.127</td>
                    <td>0.665</td>
                </tr>
            
                <tr>
                    <td>qa_002</td>
                    <td>When was Empress Ikeyoko, wife  of General Iwate Hirosemuk√©,...</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.156</td>
                    <td>0.203</td>
                </tr>
            
                <tr>
                    <td>qa_003</td>
                    <td>What country was Israel located from after the pyramid expan...</td>
                    <td>0.167</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.044</td>
                    <td>0.319</td>
                </tr>
            
                <tr>
                    <td>qa_004</td>
                    <td>Who will build offsite winds power plants and turbine comple...</td>
                    <td>1.000</td>
                    <td>0.125</td>
                    <td>0.222</td>
                    <td>0.503</td>
                    <td>0.664</td>
                </tr>
            
                <tr>
                    <td>qa_005</td>
                    <td>Why could there have never been other events, even though th...</td>
                    <td>0.100</td>
                    <td>0.154</td>
                    <td>0.071</td>
                    <td>0.060</td>
                    <td>0.358</td>
                </tr>
            
                <tr>
                    <td>qa_006</td>
                    <td>Where is UCLA named in 2008 and in 2001/09 NCAA All Tourname...</td>
                    <td>1.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.143</td>
                    <td>0.488</td>
                </tr>
            
                <tr>
                    <td>qa_007</td>
                    <td>What authors contributed their work for MaxWesternsoctuo p. ...</td>
                    <td>0.000</td>
                    <td>0.200</td>
                    <td>0.167</td>
                    <td>0.226</td>
                    <td>0.405</td>
                </tr>
            
                <tr>
                    <td>qa_008</td>
                    <td>What year were Anwar of Afghanistan born ? List several even...</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.170</td>
                    <td>0.016</td>
                </tr>
            
                <tr>
                    <td>qa_009</td>
                    <td>In 1945, which battle group numbered between 22,000 from 186...</td>
                    <td>1.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.024</td>
                    <td>0.486</td>
                </tr>
            
                <tr>
                    <td>qa_010</td>
                    <td>What property was first owned by King Alden VII by Hestizon ...</td>
                    <td>0.000</td>
                    <td>0.080</td>
                    <td>0.077</td>
                    <td>0.251</td>
                    <td>-0.022</td>
                </tr>
            
            </table>
        </div>
    </div>
        
    
    <div class="section">
        <h2>üîç Error Analysis</h2>
        <div class="metric-card">
        
            <h3>‚ö†Ô∏è  Hallucination Detection</h3>
            <p><strong>Total Questions:</strong> 100</p>
            <p><strong>Hallucination Rate:</strong> 0.0%</p>
            <p><strong>Faithful Answers:</strong> 32 (32.0%)</p>
            
            <h3>üìä Error Distribution</h3>
            <p><strong>Successful:</strong> 0 (0.0%)</p>
            <p><strong>Retrieval Failure:</strong> 50 (50.0%)</p>
            <p><strong>Incomplete:</strong> 0 (0.0%)</p>
            <p><strong>Hallucination:</strong> 0 (0.0%)</p>
            <p><strong>Over-generalization:</strong> 24 (24.0%)</p>
            <p><strong>Factual Error:</strong> 26 (26.0%)</p>
        
        </div>
    </div>
        
    
    <div class="metric-card">
        <h2>üìã Report Information</h2>
        <p><strong>Evaluation Date:</strong> 2026-02-09T12:48:33.459403</p>
        <p><strong>Total Questions:</strong> 100</p>
        <p><strong>Report Generated:</strong> 2026-02-09 12:53:22</p>
    </div>
</body>
</html>